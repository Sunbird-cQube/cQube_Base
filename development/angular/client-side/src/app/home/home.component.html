<mat-toolbar color="primary" style="height: 35px; background-color: rgb(230, 230, 230);">
  <button mat-icon-button (click)="sidenav.toggle()" id="menu">
    <mat-icon style="color: rgb(98, 150, 209);">menu</mat-icon>
  </button>
  <img src="../../assets/dashboard.png" alt="" height="30px" width="90px">
  <span style="flex: 1 1 auto;"></span>
  <span id="backBtn" class="headerBtn"
    style="padding: 1.5px; cursor: pointer; font-size: 13px; margin-right: 2%;display: none;"
    [routerLink]="['/homePage']">
    <strong *ngIf="userType" style="color:  rgb(98, 150, 209);">Back</strong>
  </span>
  <span id="homeBtn" class="headerBtn"
    style="padding: 1.5px; cursor: pointer; font-size: 13px; margin-right: 2%;display: none;color:  rgb(98, 150, 209);"
    [routerLink]="['/home']">
    <strong>Home</strong>
  </span>
  <span id="logout" class="headerBtn" style="padding: 1.5px; cursor: pointer; font-size: 13px;" (click)="logout()">
    <img src="../../assets/logout.png" height="20px" width="26px" alt=""><strong style="color:  rgb(98, 150, 209);">
      Logout</strong>
  </span>
</mat-toolbar>

<mat-sidenav-container style="background-color: rgb(245, 245, 245);">
  <mat-sidenav #sidenav>
    <mat-nav-list style="font-family: Arial;" class=sidenav>
      <mat-toolbar style="height: 80px; background-color: white; border-bottom: 1px solid lightgray;">
        <mat-toolbar-row style="color: rgb(84, 116, 223);">
          <span class="span" style="font-size: 15px;"><strong>Logged in as: </strong><br>
            <span>{{email}}</span></span>
        </mat-toolbar-row>
      </mat-toolbar>

      <div *ngIf="!showsideMenu">
        <mat-nav-list>
          <mat-list-item (click)="showSubmenu = !showSubmenu" class="abc1"
            style="font-family: Arial; border-bottom: 1px solid lightgray;">
            <img alt="Dashboard" src="../../assets/ico_task.png" style="width:30px;height:30px;">
            <span class="full-width" id="schInfra" *ngIf="isExpanded || isShowing" style=" margin-left: 4%; "> School
              Infrastructure</span>
            <mat-icon class="menu-button" [ngClass]="{'rotated' : showSubmenu}" *ngIf="isExpanded || isShowing">
              expand_more</mat-icon>
          </mat-list-item>
          <div class="submenu1" [ngClass]="{'expanded' : showSubmenu}" *ngIf="isShowing || isExpanded">
            <a mat-list-item [routerLink]="['school-infra-map']" (click)="sidenav.toggle()"
              (click)="fetchTelemetry($event,'imr')" id="mapReport" (click)="showSubmenu = !showSubmenu"><span
                style="margin-left: 50px;">Infrastructure access by
                Location</span></a>
            <a mat-list-item [routerLink]="['school-infrastructure']" (click)="sidenav.toggle()"
              (click)="fetchTelemetry($event,'cr')" id="tblReport" (click)="showSubmenu = !showSubmenu"><span
                style="margin-left: 50px;">Composite Report</span></a>
            <a mat-list-item [routerLink]="['udise-report']" id="udiseReport" (click)="sidenav.toggle()"
              (click)="fetchTelemetry($event,'udise')" (click)="showSubmenu = !showSubmenu"><span
                style="margin-left: 50px;">UDISE Report</span></a>
          </div>
        </mat-nav-list>

        <a mat-list-item (click)="sidenav.toggle()" style="border-bottom: 1px solid lightgray;font-family: Arial;"
          [routerLink]="['composit-report']" (click)="fetchTelemetry($event,'composite')" id="compositRep">
          <td>
            <img alt="Dashboard" src="../../assets/ico_task.png" style="width:30px;height:30px;">
          </td>
          <td>
            &nbsp;&nbsp; Composite Report across metrics </td>
        </a>

        <mat-nav-list>
          <mat-list-item (click)="showSubmenu2 = !showSubmenu2" class="abc1"
            style="font-family: Arial; border-bottom: 1px solid lightgray;">
            <img alt="Dashboard" src="../../assets/ico_task.png" style="width:30px;height:30px;">
            <span class="full-width" id="diksha" *ngIf="isExpanded || isShowing" style=" margin-left: 4%; ">
              Diksha Usage</span>
            <mat-icon class="menu-button" [ngClass]="{'rotated' : showSubmenu2}" *ngIf="isExpanded || isShowing">
              expand_more</mat-icon>
          </mat-list-item>
          <div class="submenu2" [ngClass]="{'expanded' : showSubmenu2}" *ngIf="isShowing || isExpanded">
            <a mat-list-item [routerLink]="['diksha-chart']" (click)="sidenav.toggle()"
              (click)="fetchTelemetry($event,'dsc')" id="chrtReport" (click)="showSubmenu2 = !showSubmenu2"><span
                style="margin-left: 50px;">Usage by user profile</span></a>
            <a mat-list-item [routerLink]="['diksha-column-chart']" (click)="sidenav.toggle()"
              (click)="fetchTelemetry($event,'dcc')" id="clmnReport" (click)="showSubmenu2 = !showSubmenu2"><span
                style="margin-left: 50px;">Usage by Location</span></a>
            <a mat-list-item [routerLink]="['diksha-table']" (click)="sidenav.toggle()"
              (click)="fetchTelemetry($event,'dtr')" id="dtblReport" (click)="showSubmenu2 = !showSubmenu2"><span
                style="margin-left: 50px;">Usage by Content Name</span></a>
          </div>
        </mat-nav-list>

        <a mat-list-item (click)="sidenav.toggle()" style="border-bottom: 1px solid lightgray;font-family: Arial;"
          [routerLink]="['crc-report']" (click)="fetchTelemetry($event,'crcr')" id="crcReport">
          <td>
            <img alt="Dashboard" src="../../assets/ico_task.png" style="width:30px;height:30px;">
          </td>
          <td>
            &nbsp;&nbsp; CRC Visit </td>
        </a>

        <mat-nav-list>
          <mat-list-item (click)="showSubmenu6 = !showSubmenu6" class="abc1"
            style="font-family: Arial; border-bottom: 1px solid lightgray;">
            <img alt="Dashboard" src="../../assets/ico_task.png" style="width:30px;height:30px;">
            <span class="full-width" id="stdPerform" *ngIf="isExpanded || isShowing" style=" margin-left: 4%; ">Student
              Performance
            </span>
            <mat-icon class="menu-button" [ngClass]="{'rotated' : showSubmenu6}" *ngIf="isExpanded || isShowing">
              expand_more</mat-icon>
          </mat-list-item>
          <div class="submenu6" [ngClass]="{'expanded' : showSubmenu6}" *ngIf="isShowing || isExpanded">
            <a mat-list-item [routerLink]="['semester-report']" (click)="sidenav.toggle()"
              (click)="fetchTelemetry($event,'sr')" id="semReport" (click)="showSubmenu6 = !showSubmenu6"><span
                style="margin-left: 50px;">Semester Report</span></a>
            <a mat-list-item [routerLink]="['pat-report']" id="patReport" (click)="sidenav.toggle()"
              (click)="fetchTelemetry($event,'pat')" (click)="showSubmenu6 = !showSubmenu6"><span
                style="margin-left: 50px;">Periodic Assessment
                Test</span></a>
          </div>
        </mat-nav-list>

        <mat-nav-list>
          <mat-list-item (click)="showSubmenu4 = !showSubmenu4" class="abc1"
            style="font-family: Arial; border-bottom: 1px solid lightgray;">
            <img alt="Dashboard" src="../../assets/ico_task.png" style="width:30px;height:30px;">
            <span class="full-width" id="excpList" *ngIf="isExpanded || isShowing" style=" margin-left: 4%; "> Exception
              List</span>
            <mat-icon class="menu-button" [ngClass]="{'rotated' : showSubmenu4}" *ngIf="isExpanded || isShowing">
              expand_more</mat-icon>
          </mat-list-item>
          <div class="submenu4" [ngClass]="{'expanded' : showSubmenu4}" *ngIf="isShowing || isExpanded">
            <a mat-list-item [routerLink]="['sem-exception']" (click)="sidenav.toggle()"
              (click)="fetchTelemetry($event,'SemExp')" id="SemException" (click)="showSubmenu4 = !showSubmenu4"><span
                style="margin-left: 50px;">Semester Exception</span></a>
            <a mat-list-item [routerLink]="['download-missing-data']" (click)="sidenav.toggle()"
              (click)="fetchTelemetry($event,'isdata')" id="cmplnErr" (click)="showSubmenu4 = !showSubmenu4"><span
                style="margin-left: 50px;">Download Exception List</span></a>
          </div>
        </mat-nav-list>

        <mat-nav-list>
          <mat-list-item (click)="showSubmenu3 = !showSubmenu3" class="abc1"
            style="font-family: Arial; border-bottom: 1px solid lightgray;">
            <img alt="Dashboard" src="../../assets/ico_task.png" style="width:30px;height:30px;">
            <span class="full-width" id="attedReport" *ngIf="isExpanded || isShowing" style=" margin-left: 4%; ">
              Attendance</span>
            <mat-icon class="menu-button" [ngClass]="{'rotated' : showSubmenu3}" *ngIf="isExpanded || isShowing">
              expand_more</mat-icon>
          </mat-list-item>
          <div class="submenu3" [ngClass]="{'expanded' : showSubmenu3}" *ngIf="isShowing || isExpanded">
            <a mat-list-item [routerLink]="['attendance-report']" (click)="sidenav.toggle()"
              (click)="fetchTelemetry($event,'sar')" id="stdReport" (click)="showSubmenu3 = !showSubmenu3"><span
                style="margin-left: 50px;">Student Attendance
              </span></a>
            <a mat-list-item [routerLink]="['teacher-attendance']" (click)="sidenav.toggle()"
              (click)="fetchTelemetry($event,'tar')" id="thrReport" (click)="showSubmenu3 = !showSubmenu3"><span
                style="margin-left: 50px;">Teacher Attendance
              </span></a>
          </div>
        </mat-nav-list>

        <a mat-list-item (click)="sidenav.toggle()" style="border-bottom: 1px solid lightgray;font-family: Arial;"
          [routerLink]="['telemetry']" (click)="fetchTelemetry($event,'telemData')" id="telemReport">
          <td>
            <img alt="Dashboard" src="../../assets/ico_task.png" style="width:30px;height:30px;">
          </td>
          <td>
            &nbsp;&nbsp; Telemetry </td>
        </a>

        <a *ngIf="showUser" mat-list-item (click)="sidenav.toggle()"
          style="border-bottom: 1px solid lightgray;font-family: Arial;" [routerLink]="['changePassword']"
          (click)="fetchTelemetry($event,'chPass')" id="chPass">
          <td>
            <img alt="Dashboard" src="../../assets/ico_task.png" style="width:30px;height:30px;">
          </td>
          <td>
            &nbsp;&nbsp; Change Password </td>
        </a>
      </div>

    </mat-nav-list>
    <span style=" position: absolute; left: 5%; bottom: 2%; font-size: 12px;">Version : 1.4.1 </span>
    <span style="position: absolute; right: 3%; bottom: 2%; font-size: 12px;">Date: 09/10/2020</span>
  </mat-sidenav>

  <mat-sidenav-content>
    <div style="height: 93vh;">
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>