---
- name: Change permission
  file:
    path: ../../development/angular
    mode: '1755'
    
- name: Replacing endpoint value in environment.ts
  lineinfile:
    path: ../../development/angular/client-side/src/environments/environment.ts
    regexp: "apiEndpoint"
    line: "apiEndpoint: '{{ api_endpoint }}'"

- name: Replacing endpoint value in environment.prod.ts
  lineinfile:
    path: ../../development/angular/client-side/src/environments/environment.prod.ts
    regexp: "apiEndpoint"
    line: "apiEndpoint: '{{ api_endpoint }}'"

- name: Change to Angular directory
  shell: cd ../../development/angular/client-side

- name: Install Angular packages based on package.json.
  npm:
    path: ../../development/angular/client-side
