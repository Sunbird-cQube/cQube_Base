<div class="container-fluid" style="padding-top:15px !important;">
    <div class="row">
        <div class="col-sm-7">
            <div *ngIf='skul'>
                <p id="dist_level" style=" color: #284d8a;font-size: 18px; line-height: 1.2em; margin-top: 5px;">
                    CRC Report for: <span (click)="districtWise()"
                        style="cursor: pointer;text-decoration: underline;">{{state}}</span></p>
            </div>
            <div *ngIf='dist'>
                <p id="block_level" style=" color: #284d8a;font-size: 18px; line-height: 1.2em; margin-top: 5px;">
                    CRC Report for: <span (click)="districtWise()"
                        style="cursor: pointer;text-decoration: underline;">{{state}}</span> <span>/ </span><span
                        (click)="myDistData(distName)" style="cursor: pointer;text-decoration: underline;">
                        {{hierName}}</span> </p>
            </div>
            <div *ngIf="blok">
                <p id="cluster_level" style=" color: #284d8a;font-size: 18px; line-height: 1.2em; margin-top: 5px;">
                    CRC Report for: <span (click)="districtWise()"
                        style="cursor: pointer;text-decoration: underline;">{{state}}</span><span>/ </span><span
                        (click)="myDistData(distName)" style="cursor: pointer;text-decoration: underline;">
                        {{titleName}}</span><span>/ </span><span (click)="myBlockData(blockName)"
                        style="cursor: pointer;text-decoration: underline;">
                        {{hierName}}</span></p>
            </div>

            <div *ngIf="clust">
                <p id="school_level" style=" color: #284d8a;font-size: 18px; line-height: 1.2em; margin-top: 5px;">
                    CRC Report for: <span (click)="districtWise()"
                        style="cursor: pointer;text-decoration: underline;">{{state}}</span><span>/ </span><span
                        (click)="myDistData(distName)" style="cursor: pointer;text-decoration: underline;">
                        {{titleName}}</span><span>/ </span><span (click)="myBlockData(blockName)"
                        style="cursor: pointer;text-decoration: underline;">
                        {{title}}</span><span>/ </span><span>
                        {{hierName}}</span></p>
            </div>
        </div>
        <div class="col-sm-5">
            <div class="row">
                <div class="col-sm-5">
                    <p id="errMsg"
                        style="display: none; text-align: center;line-height: 1.2em; font-size: 12px; margin-top: 3%; ">
                    </p>
                </div>
                <div class="col-sm-7">
                    <div *ngIf="skul; else ng_else" style="float: right; " id="select">
                        <em class="fa fa-download" title="Download Report" id="download"
                            style="cursor: pointer;font-size: 27px; float: right;margin: 5px 0px 0px 8px;color: rgb(39, 194, 233);"
                            (click)="downloadReportofState(downloadType)"></em>
                        <select class="dwnld" id="downloader"
                            style="padding: 5px; color: white; border-radius: 4px;margin: 5px 0px 0px 8px; font-size: 11px; font-weight: bold; background-color: rgb(152, 160, 163);"
                            [(ngModel)]="downloadType" name="downloadType">
                            <option [value]="downloadType" disabled selected="selected"> Download Report</option>
                            <option *ngFor="let md of modes, let i = index" [(ngValue)]="modes[i]">
                                {{md}} Report
                            </option>
                        </select>
                    </div>

                    <ng-template #ng_else>
                        <em class="fa fa-download" title="Download Report" id="download"
                            style="cursor: pointer;font-size: 27px; float: right;margin: 5px 0px 0px 8px;color: rgb(39, 194, 233);"
                            (click)="downloadReport()"></em>
                    </ng-template>
                    <em class="fa fa-home" id="home" title="Home"
                        style="cursor: pointer;font-size: 30px; float: right;margin: 2px 0px 0px 0px; color: rgb(39, 194, 233); display: none;"
                        alt="Home" (click)="districtWise()"></em>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-12">
            <p style="text-align: justify; font-size: 11px;">
                <strong> About the dashboard:</strong> The dashboard here provides insights using the CRC App data. We
                have derived
                several
                normalised
                metrics
                using the raw data and you can read more about them using the following link. A key feature of this
                dashboard is its ability to Zoom In and Out at various administrative levels. The administrative
                levels
                include District, Block and Cluster. This has been done to provide relevant insights at the
                appropriate
                administrative level. In addition to visualising data, the dashboard also gives you the ability to
                download
                the data at various administrative levels. This feature has been enabled to provide freedom to power
                users
                to derive additional insights that may not be captured in this dashboard. You can download the data
                using
                the dropdown option on the top right corner.
            </p>
        </div>
    </div>
    <div class="row" style="height: 76vh;">
        <div class="col-sm-6">
            <div class="row">
                <div class="col-sm-5">
                    X-AXIS: &nbsp;<select id="x_axis"
                        style="padding: 4px; color: white; border-radius: 4px; font-size: 11px; font-weight: bold; background-color: rgb(152, 160, 163);"
                        [(ngModel)]="xAxis" name="xAxis" (change)="selectAxis()">
                        <option [value]="xAxis" disabled selected="selected">choose
                            x-axis
                        </option>
                        <option *ngFor="let xaxis of xAxisFilter" [(ngValue)]="xaxis.key" style=" font-size: 11px;">
                            {{xaxis.value}}
                        </option>
                    </select>
                </div>
                <div class="col-sm-5">
                    Y-AXIS: &nbsp;<select id="y_axis"
                        style="padding: 4px; color: white; border-radius: 4px; font-size: 11px; font-weight: bold; background-color: rgb(152, 160, 163);"
                        [(ngModel)]="yAxis" name="yAxis" (change)="selectAxis()">
                        <option [value]="yAxis" disabled selected="selected">choose
                            y-axis
                        </option>
                        <option *ngFor="let yaxis of yAxisFilter" [(ngValue)]="yaxis.key" style=" font-size: 11px;">
                            {{yaxis.value}}
                        </option>
                    </select>
                </div>
            </div>

            <p style="text-align: justify; font-size: 11px;padding-top: 10px;">
                <strong> NOTE:</strong> The scatter plot below provides information for the metrics selected in the
                dropdown below. You can alter the metrics (calculated from the CRC App) to update the scatter plot.
            </p>
            <div class="row">
                <canvas id="myChart" height="140vh"></canvas>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="row">
                <select id="dist"
                    style="margin-right: 10px;margin-left: 10px; padding: 4px; color: white; border-radius: 4px; font-size: 11px; font-weight: bold; background-color: rgb(152, 160, 163);"
                    [(ngModel)]="myDistrict" name="myDistrict" (change)="myDistData(myDistrict)">
                    <option [value]="myDistrict" disabled selected="selected">Choose a District
                    </option>
                    <option *ngFor="let dist of crcDistrictsNames" [(ngValue)]="dist.districtId"
                        style=" font-size: 11px;">
                        {{dist.districtName}}
                    </option>
                </select>

                <select [hidden]="blockHidden" id="block"
                    style="margin-right: 10px; padding: 4px; color: white; border-radius: 4px; font-size: 11px; font-weight: bold; background-color: rgb(152, 160, 163);"
                    [(ngModel)]="myBlock" name="myBlock" (change)="myBlockData(myBlock)">
                    <option [value]="myBlock" disabled selected="selected">Choose a Block
                    </option>
                    <option *ngFor="let block of crcBlocksNames" [(ngValue)]="block.blockId">
                        {{block.blockName}}
                    </option>
                </select>

                <select [hidden]="clusterHidden" id="cluster"
                    style="margin-right: 10px; padding: 4px; color: white; border-radius: 4px; font-size: 11px; font-weight: bold; background-color: rgb(152, 160, 163);"
                    [(ngModel)]="myCluster" name="myCluster" (change)="myClusterData(myCluster)">
                    <option [value]="myCluster" disabled selected="selected">Choose a Cluster
                    </option>
                    <option *ngFor="let cluster of crcClusterNames" [(ngValue)]="cluster.clusterId"
                        style="font-size: 11px; "
                        [ngStyle]="{'color': cluster.clusterName !== 'NO NAME FOUND'? 'white' : '#ff3333'}">
                        {{cluster.clusterName}}
                    </option>
                </select>
                    <a class="float-right" href="javascript: void(0)" id="crcHealthcard" (click)="goToHealthCard()"
                    style="font-weight: bold; text-decoration: underline; font-size: 13px;">Access Health
                    Card</a>
            </div>
            <p style="text-align: justify; font-size: 11px;padding-top: 10px;">
                <strong> NOTE:</strong> The table provides information about the various metrics (calculated from the
                CRC App). You can sort the entire table based on any metrics available in this table.
            </p>
            <div class="myDiv">
                <table #dataTable id="table" class="display responsive cell-border"
                    style="font-size: 11px; text-align: center; width: 100%; border: 1px solid gray;">
                </table>
            </div>
        </div>
    </div>
    <div class="row"
        style="width:100%; background-color: gray;font-size: 13px;font-weight: bold; color: white; padding: 2px 0px 2px 0px;margin: 0px 0px 0px 0px;position: fixed; bottom: 0; left: 0;">
        <div style="margin-right: 7%; margin-left: 1%;">
            <span id="visits">Total Number of visits: {{visitCount}}</span>
        </div>
        <div style="margin-right: 7%;">
            <span id="schools" style="text-align: center;">Total Number of schools: {{schoolCount}}</span>
        </div>
        <div style="margin-right:7%;">
            <span id="visited" style="float: right;">Total schools visited: {{visitedSchools}}</span>
        </div>
        <div style="margin-right: 7%;">
            <span id="visited" style="float: right;">Total schools not visited: {{notVisitedSchools}}</span>
        </div>
    </div>
</div>
<div id="spinner">
    <div id="loader" class="loading">Loading&#8230;</div>
</div>