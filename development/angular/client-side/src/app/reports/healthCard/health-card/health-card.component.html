<div class="container-fluid" style="background-color: #f5f6fb; letter-spacing: 0; padding-top: 15px !important;">
    <div class="row row flex-column-reverse flex-lg-row" style="padding-bottom: 10px !important; min-height: 100px;">
        <div class="col-lg-7 col-md-12 col-sm-12" (window:resize)="onResize($event)">
            <div *ngIf="showAll" class="regional-detail-card">
                <div class="row details">
                    <div class="col-lg-12 col-md-12">
                        <div class="row">
                            <div class="col-lg-6 col-md-6" *ngIf="innerWidth > 767">
                                <div class="regional-details-container">
                                    <table>
                                        <tbody>
                                            <tr *ngFor="let key of keys; let i=index">
                                                <small *ngIf=" i%2==0 && i==0 && level =='state'">State : &nbsp;
                                                    &nbsp;</small>
                                                <strong *ngIf=" i%2==0 && i==0 && level =='state'"> {{state}}</strong>
                                            </tr>
                                            <tr *ngFor="let key of keys; let i=index">
                                                <small
                                                    *ngIf=" i%2==0 && level !='state' && level !='school'">{{updatedKeys[i]}}
                                                    : &nbsp;&nbsp;</small>
                                                <strong *ngIf=" i%2==0 && level !='state' && level !='school'">
                                                    {{healthCardData[key]}}</strong>
                                            </tr>
                                            <tr *ngFor="let key of keys; let i=index">
                                                <small *ngIf="i%2==0 && level =='school'">{{updatedKeys[i]}} :
                                                    &nbsp;&nbsp;
                                                </small>
                                                <strong *ngIf="i%2==0 && level =='school'">
                                                    {{healthCardData[key]}}</strong>
                                            </tr>
                                            <tr *ngFor="let key of keys; let i=index">
                                                <small
                                                    *ngIf="i%2==0 && i!=0 && level =='state' && healthCardData['basic_details']">{{updatedKeys[i]}}
                                                    : &nbsp;&nbsp;</small>
                                                <strong
                                                    *ngIf="i%2==0 && i!=0 && level =='state' && healthCardData['basic_details']">{{healthCardData['basic_details'][key]}}</strong>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-6" *ngIf="innerWidth > 767">
                                <div class="regional-details-container">
                                    <table>
                                        <tbody>
                                            <tr *ngFor="let key of keys; let i=index">
                                                <small
                                                    *ngIf=" i%2==1 && i==1 && level =='state' && healthCardData['basic_details']">State
                                                    ID : &nbsp;&nbsp;</small>
                                                <strong
                                                    *ngIf=" i%2==1 && i==1 && level =='state' && healthCardData['basic_details']">
                                                    {{healthCardData['basic_details']['state_id']}}</strong>
                                            </tr>
                                            <tr *ngFor="let key of keys; let i=index">
                                                <small
                                                    *ngIf="i%2==1 && level !='state' && level !='school'">{{updatedKeys[i]}}
                                                    : &nbsp;&nbsp;</small>
                                                <strong *ngIf=" i%2==1 && level !='state' && level !='school'">
                                                    {{healthCardData[key]}}</strong>
                                            </tr>
                                            <tr *ngFor="let key of keys; let i=index">
                                                <small *ngIf="i%2==1 && level =='school'">{{updatedKeys[i]}} :
                                                    &nbsp;&nbsp;
                                                </small>
                                                <strong *ngIf="i%2==1 && level =='school'">
                                                    {{healthCardData[key]}}</strong>
                                            </tr>
                                            <tr *ngFor="let key of keys; let i=index">
                                                <small
                                                    *ngIf="i%2==1 && level =='state' && healthCardData['basic_details']">{{updatedKeys[i]}}
                                                    : &nbsp;&nbsp;</small>
                                                <strong
                                                    *ngIf="i%2==1 && level =='state' && healthCardData['basic_details']">
                                                    {{healthCardData['basic_details'][key]}}</strong>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="col-sm-12" *ngIf="innerWidth <= 767">
                                <div class="regional-details-container">
                                    <table>
                                        <tbody>
                                            <tr *ngFor="let key of keys; let i=index">
                                                <small *ngIf="i==0 && level =='state'">State : &nbsp;
                                                    &nbsp;</small>
                                                <strong *ngIf="i==0 && level =='state'"> {{state}}</strong>
                                            </tr>
                                            <tr *ngFor="let key of keys; let i=index">
                                                <small
                                                    *ngIf="i==1 && level =='state' && healthCardData['basic_details']">State
                                                    ID : &nbsp;&nbsp;</small>
                                                <strong
                                                    *ngIf="i==1 && level =='state' && healthCardData['basic_details']">
                                                    {{healthCardData['basic_details']['state_id']}}</strong>
                                            </tr>
                                            <tr *ngFor="let key of keys; let i=index">
                                                <small *ngIf="level !='state' && level !='school'">{{updatedKeys[i]}}
                                                    : &nbsp;&nbsp;</small>
                                                <strong *ngIf="level !='state' && level !='school'">
                                                    {{healthCardData[key]}}</strong>
                                            </tr>
                                            <tr *ngFor="let key of keys; let i=index">
                                                <small *ngIf="level =='school'">{{updatedKeys[i]}} :
                                                    &nbsp;&nbsp;
                                                </small>
                                                <strong *ngIf="level =='school'">
                                                    {{healthCardData[key]}}</strong>
                                            </tr>
                                            <tr *ngFor="let key of keys; let i=index">
                                                <small
                                                    *ngIf="i!=0 && level =='state' && healthCardData['basic_details']">{{updatedKeys[i]}}
                                                    : &nbsp;&nbsp;</small>
                                                <strong
                                                    *ngIf="i!=0 && level =='state' && healthCardData['basic_details']">{{healthCardData['basic_details'][key]}}</strong>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-5 col-md-12 col-sm-12">
            <div style="height: 120px auto;margin-top: 5px; border-radius: 20px;">
                <div class="row">
                    <div class="col-lg-12">
                        <div style="float: left;">
                            <select id="period" class="select-control"
                                [(ngModel)]="period" (change)="onPeriodSelect()">
                                <option [value]="period" disabled selected="selected">Choose a TimeRange</option>
                                <option *ngFor="let period of timeRange,  let i =index" [(ngValue)]="period.key">
                                    {{period.value}}
                                </option>
                            </select>
                        </div>
                        <!-- <div style="float: right;">
                            <em aria-disabled="true" class="fa fa-cloud-download" aria-hidden="true" id="download"
                                title="Download Report"
                                style="cursor: pointer;display: none; font-size: 30px; float: right; color: #3100cc;" alt="download">
                            </em>
                        </div> -->
                        <div style="float: right;">
                            <em class="fa fa-home" aria-hidden="true" id="home" title="Home"
                                style="cursor: pointer;font-size: 30px; float: right; margin-right: 10px;  color: #3100cc;"
                                alt="Home" (click)="onHomeSelect()"></em>
                        </div>
                    </div>
                </div>
                <div class="row" style="padding-top: 8px !important;">
                    <div class="col-lg-4 col-md-3 col-sm-12">
                        <label for="" class="form-label note">Choose Level</label>
                        <select id="level" class="select-control full-width"
                            [(ngModel)]="level" name="level" (change)="selectedLevel()">
                            <option [value]="level" disabled selected="selected">Choose Level
                            </option>
                            <option *ngFor="let level of levels" [(ngValue)]="level.key">
                                {{level.name}}
                            </option>
                        </select>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12">
                        <div class="autocomplete" style="width:100%;">
                            <label id="warning" class="form-label note" style="text-align: unset;"> Please enter at
                                least 2
                                characters/digits</label>
                            <label class="form-label" for="" *ngIf="len >= 2">&nbsp;</label>
                            <!-- <p style="line-height: 1em; float: left;">&nbsp;</p> -->
                            <input #searchInput id="myInput" class="input-control full-width"
                                type="search" class="clearable" autocomplete="off" name="districtName"
                                [(ngModel)]="value" (input)="onChange()" [placeholder]="placeHolder">
                        </div>
                    </div>
                    <div class="col-lg-2 col-md-3 col-sm-12">
                        <p style="line-height: 0.9em;">&nbsp;</p>
                        <button type="submit" class="btn btn-secondary submit-btn" id="button"
                            (click)="onSubmit()">Submit</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row" *ngIf="showAll">
        <div *ngIf="!err" class="col-sm-12" style="font-size: 13px;">
            <div class="row">
                <div class="col-lg-4 col-md-12 col-sm-12" id="stdAttendance" style="margin-bottom:10px !important">
                    <div [ngStyle]="{'min-height': height }" class="card">
                        <div class="row">
                            <div class="col-lg-12">
                                <div *ngIf="healthCardData['student_attendance']" ngbDropdown
                                    class="d-inline-block healthcard-tooltip" [placement]="placement"
                                    id="attTooltipBtn">
                                    <button class="btn btn-outline-primary healthcard-tooltip-btn" id="dropdownBasic1"
                                        ngbDropdownToggle>
                                        <em class="fa fa-info-circle" style="color: #75758d;"></em>
                                    </button>
                                    <div style="border-radius: 10px;" class="healthcard-tooltip-dropdown"
                                        ngbDropdownMenu id="attTooltip" aria-labelledby="dropdownBasic1">
                                        <div class="dropdown-content" id="div1"
                                            style="height: 250px;width: 320px; position:relative; border-radius: 10px;border: 1px solid gray; padding: 5px 5px 5px 5px; margin-right: 8px;">
                                            <div id="div2" style="max-height:100%;min-width: 100%; overflow:auto;">
                                                <div id="div3" style="height:1000px auto; width: 500px auto;">
                                                    <table class="tooltip-table">
                                                        <tbody>
                                                            <tr>
                                                                <td colspan="3">
                                                                    <strong class="tooltip-table-header-txt"
                                                                        style="text-decoration: underline; font-size: 13px;line-height: 2em;">
                                                                        Details</strong>
                                                                </td>
                                                            </tr>
                                                            <tr class="tooltip-values-row" style="font-size: 12px;"
                                                                *ngFor="let key of tooltipStdAttendance;let i=index">
                                                                <td>{{tooltipStdAttendanceKeys[i]}}</td>
                                                                <td>:</td>
                                                                <td>{{healthCardData['student_attendance'][key]}}
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <h6 class="headings"> Student Attendance
                                </h6>
                                <div>
                                    <app-bubbles *ngIf="level != 'state' && healthCardData['student_attendance']"
                                        [cardData]="healthCardData['student_attendance']"
                                        [color]="stdAttdRankMatrixColor" [Value]="stdAttdRankMatrixValue"></app-bubbles>
                                </div>
                            </div>
                        </div>
                        <div class="row" *ngIf="healthCardData['student_attendance']">
                            <div class="col-lg-5 col-md-5 col-sm-5">
                                <div class="mar-lef-35" style="margin-left: 15px;">
                                    <strong class="fon-siz-15rem" style="font-size: 15px;line-height: 2em; font-weight: bold;">Attendance
                                    </strong>
                                    <div class="progress-circle-container" style="font-weight: bold; ">
                                        <app-progress-circle
                                            [value]="healthCardData['student_attendance']['attendance']"
                                            [color]="stdAttendanceColor"></app-progress-circle>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-7 col-md-7 col-sm-7">
                                <div>
                                    <strong class="metric-name mar-lef-35" *ngIf="level != 'state'"
                                        style="font-size: 15px;line-height: 2em; margin-left: 20px;">{{level.charAt(0).toUpperCase()
                                        + level.substr(1)}} Rank</strong>
                                    <table class="metric-values-table mar-lef-35 no-fixed-width" style="margin-left: 20px;">
                                        <thead>
                                            <tr *ngFor="let attendance of schoolInfraRank; let i=index">
                                                <td *ngIf="level != 'state'">{{schoolInfraRankKye[i]}} level</td>
                                                <td *ngIf="level != 'state'">:</td>
                                                <td *ngIf="level != 'state'">
                                                    {{healthCardData['student_attendance'][attendance]}}
                                                </td>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="row" *ngIf="healthCardData['student_attendance']">
                            <div class="col-sm-12">
                                <div class="mar-lef-35" style="margin-left: 15px;">
                                    <table class="metric-values-table">
                                        <tbody>
                                            <strong class="metric-name" *ngIf="level != 'school'"
                                                style="font-size: 15px;line-height: 2em;">School
                                                Categories</strong>
                                            <tr class="header-row" *ngIf="level != 'school'"
                                                style="font-weight: bold; color: gray;font-size: 14px;">
                                                <td>Attendance</td>
                                                <td></td>
                                                <td>Schools</td>
                                            </tr>
                                            <tr *ngFor="let attendance of schoolAttendanceCategory; let i=index">
                                                <td *ngIf="level != 'school'">
                                                    {{schoolAttendanceCategoryKey[i]}}</td>
                                                <td *ngIf="level != 'school'">:</td>
                                                <td *ngIf="level != 'school'">
                                                    {{healthCardData['student_attendance'][attendance]}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="!healthCardData['student_attendance']" class="notFound"> No Data Available
                        </div>
                    </div>
                    <div *ngIf="healthCardData['student_attendance']">
                        <p *ngIf="showLink" class="link access-report-link" id="attdLink"><a href="javascript:void(0)"
                                (click)="goToReport('/attendance/student-attendance')">Click
                                to Access
                                Report</a></p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-12 col-sm-12" id="semPer" style="margin-bottom:10px !important">
                    <div [ngStyle]="{'min-height': height }" class="card">
                        <div class="row">
                            <div class="col-lg-12">
                                <div *ngIf="healthCardData['student_semester']" ngbDropdown
                                    class="d-inline-block healthcard-tooltip" [placement]="placement"
                                    id="semTooltipBtn">
                                    <button class="btn btn-outline-primary healthcard-tooltip-btn" id="dropdownBasic2"
                                        ngbDropdownToggle>
                                        <em class="fa fa-info-circle" style="color: #75758d;"></em>
                                    </button>
                                    <div style="border-radius: 10px;" class="healthcard-tooltip-dropdown"
                                        ngbDropdownMenu id="semTooltip" aria-labelledby="dropdownBasic2">
                                        <div class="dropdown-content" id="div1"
                                            style="height: 250px;width: 320px; position:relative; border-radius: 10px;border: 1px solid gray; padding: 5px 5px 5px 5px; margin-right: 8px;">
                                            <div id="div2" style="max-height:100%;min-width: 100%; overflow:auto;">
                                                <div id="div3" style="height:1000px auto; width: 500px auto;">
                                                    <table class="tooltip-table">
                                                        <tbody>
                                                            <tr>
                                                                <td colspan="3">
                                                                    <strong class="tooltip-table-header-txt"
                                                                        style="text-decoration: underline; font-size: 13px;line-height: 2em;">
                                                                        Details</strong>
                                                                </td>
                                                            </tr>

                                                            <tr class="tooltip-values-row" style="font-size: 12px;"
                                                                *ngFor="let key of tooltimSem;let i=index">
                                                                <td
                                                                    *ngIf="i<=semLength && healthCardData['student_semester'][key]">
                                                                    {{tooltipSemKeys[i]}}</td>
                                                                <td
                                                                    *ngIf="i<=semLength && healthCardData['student_semester'][key]">
                                                                    :</td>
                                                                <td
                                                                    *ngIf="i<=semLength && healthCardData['student_semester'][key]">
                                                                    {{healthCardData['student_semester'][key]}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td colspan="3">
                                                                    <strong class="tooltip-table-header-txt"
                                                                        style="text-decoration: underline; font-size: 13px;line-height: 2em;">
                                                                        Grade_Wise_Performance
                                                                    </strong>
                                                                </td>
                                                            </tr>
                                                            <tr class="tooltip-values-row" style="font-size: 12px;"
                                                                *ngFor="let key of tooltimSem;let i=index">
                                                                <td
                                                                    *ngIf="i>semLength && healthCardData['student_semester'][key] && level !='state'">
                                                                    {{tooltipSemKeys[i]}}</td>
                                                                <td
                                                                    *ngIf="i>semLength && healthCardData['student_semester'][key] && level !='state'">
                                                                    :</td>
                                                                <td
                                                                    *ngIf="i>semLength && healthCardData['student_semester'][key] && level !='state'">
                                                                    {{healthCardData['student_semester'][key]}} %
                                                                </td>
                                                            </tr>
                                                            <tr class="tooltip-values-row" style="font-size: 12px;"
                                                                *ngFor="let key of semPerformTooltip;let i=index">
                                                                <td
                                                                    *ngIf="healthCardData['student_semester']['grade_wise_performance'][key] && level =='state'">
                                                                    {{semPerformTooltipKeys[i]}}</td>
                                                                <td
                                                                    *ngIf="healthCardData['student_semester']['grade_wise_performance'][key] && level =='state'">
                                                                    :</td>
                                                                <td
                                                                    *ngIf="healthCardData['student_semester']['grade_wise_performance'][key] && level =='state'">
                                                                    {{healthCardData['student_semester']['grade_wise_performance'][key]}}
                                                                    %
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <h6 class="headings"> Semester Performance
                                </h6>
                                <div>
                                    <app-bubbles *ngIf="level != 'state' && healthCardData['student_semester']"
                                        [cardData]="healthCardData['student_semester']" [color]="semRankMatrixColor"
                                        [Value]="semRankMatrixValue"></app-bubbles>
                                </div>
                            </div>
                        </div>
                        <div class="row" *ngIf="healthCardData['student_semester']">
                            <div class="col-lg-5 col-md-5 col-sm-5">
                                <div class="mar-lef-35" style="margin-left: 15px;">
                                    <strong class="fon-siz-15rem" style="font-size: 15px;line-height: 2em; font-weight: bold;"> Performance
                                    </strong>
                                    <div class="progress-circle-container" style="font-weight: bold; ">
                                        <app-progress-circle [value]="healthCardData['student_semester']['performance']"
                                            [color]="semColor"></app-progress-circle>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-7 col-md-7 col-sm-7">
                                <div>
                                    <strong class="metric-name mar-lef-35" *ngIf="level != 'state'"
                                        style="margin-left: 20px; font-size: 15px;line-height: 2em;">{{level.charAt(0).toUpperCase()
                                        + level.substr(1)}} Rank</strong>
                                    <table class="metric-values-table mar-lef-35 no-fixed-width" style="margin-left: 20px;">
                                        <thead>
                                            <tr *ngFor="let sem of schoolInfraRank; let i=index">
                                                <td *ngIf="level != 'state'">{{schoolInfraRankKye[i]}} level</td>
                                                <td *ngIf="level != 'state'">:</td>
                                                <td *ngIf="level != 'state'">{{healthCardData['student_semester'][sem]}}
                                                </td>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="row" *ngIf="healthCardData['student_semester']">
                            <div class="col-sm-12">
                                <div class="mar-lef-35" style="margin-left: 15px;">
                                    <table class="metric-values-table">
                                        <tbody>
                                            <strong class="metric-name" *ngIf="level != 'school'"
                                                style="font-size: 15px;line-height: 2em;">School
                                                Categories</strong>
                                            <tr class="header-row" *ngIf="level != 'school'"
                                                style="font-weight: bold; color: gray;font-size: 14px;">
                                                <td>Performance</td>
                                                <td></td>
                                                <td>Schools</td>
                                            </tr>
                                            <tr *ngFor="let sem of semPerformanceCategory; let i=index">
                                                <td *ngIf="level != 'school'">
                                                    {{semPerformanceCategoryKey[i]}}</td>
                                                <td *ngIf="level != 'school'">:</td>
                                                <td *ngIf="level != 'school'">
                                                    {{healthCardData['student_semester'][sem]}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="!healthCardData['student_semester']" class="notFound"> No Data Available
                        </div>
                    </div>
                    <div *ngIf="healthCardData['student_semester']">
                        <p *ngIf="showLink" class="link access-report-link" id="semLink">
                            <a href="javascript:void(0)" (click)="goToReport('/student-performance/sat-report')">Click
                                to Access
                                Report</a>
                        </p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-12 col-sm-12" id="pat" style="margin-bottom:10px !important">
                    <div [ngStyle]="{'min-height': height }" class="card">
                        <div class="row">
                            <div class="col-lg-12">
                                <div *ngIf="healthCardData['pat_performance']" ngbDropdown
                                    class="d-inline-block healthcard-tooltip" [placement]="placement"
                                    id="patTooltipBtn">
                                    <button class="btn btn-outline-primary healthcard-tooltip-btn" id="dropdownBasic3"
                                        ngbDropdownToggle>
                                        <em class="fa fa-info-circle" style="color: #75758d;"></em>
                                    </button>
                                    <div style="border-radius: 10px;" class="healthcard-tooltip-dropdown"
                                        ngbDropdownMenu id="patTooltip" aria-labelledby="dropdownBasic3">
                                        <div class="dropdown-content" id="div1"
                                            style="height: 250px;width: 320px; position:relative; border-radius: 10px;border: 1px solid gray; padding: 5px 5px 5px 5px; margin-right: 8px;">
                                            <div id="div2" style="max-height:100%;min-width: 100%; overflow:auto;">
                                                <div id="div3" style="height:1000px auto; width: 500px auto;">
                                                    <table class="tooltip-table">
                                                        <tbody>
                                                            <tr>
                                                                <td colspan="3">
                                                                    <strong class="tooltip-table-header-txt"
                                                                        style="text-decoration: underline; font-size: 13px;line-height: 2em;">
                                                                        Details</strong>
                                                                </td>
                                                            </tr>
                                                            <tr class="tooltip-values-row" style="font-size: 12px;"
                                                                *ngFor="let key of tooltipPat;let i=index">
                                                                <td>{{tooltipPatKeys[i]}}</td>
                                                                <td>:</td>
                                                                <td>{{healthCardData['pat_performance'][key]}}</td>
                                                            </tr>
                                                            <ng-container
                                                                    *ngIf="healthCardData['pat_performance']['grade_wise_performance']">
                                                                <tr>
                                                                    <td colspan="3">
                                                                        <strong class="tooltip-table-header-txt"
                                                                            style="text-decoration: underline;  font-size: 13px;line-height: 2em;">Grade_Wise_Performance
                                                                        </strong>
                                                                    </td>
                                                                </tr>
                                                                <tr class="tooltip-values-row" style="font-size: 12px;"
                                                                    *ngFor="let key of patPerformTooltip;let i=index">
                                                                    
                                                                    <td
                                                                        *ngIf="healthCardData['pat_performance']['grade_wise_performance'][key]">
                                                                        {{patPerformTooltipKeys[i]}}</td>
                                                                    <td
                                                                        *ngIf="healthCardData['pat_performance']['grade_wise_performance'][key]">
                                                                        :</td>
                                                                    <td
                                                                        *ngIf="healthCardData['pat_performance']['grade_wise_performance'][key]">
                                                                        {{healthCardData['pat_performance']['grade_wise_performance'][key]}}
                                                                        %
                                                                    </td>
                                                                </tr>
                                                            </ng-container>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <h6 class="headings"> PAT Performance </h6>
                                <div>
                                    <app-bubbles *ngIf="level != 'state' && healthCardData['pat_performance']"
                                        [cardData]="healthCardData['pat_performance']" [color]="patRankMatrixColor"
                                        [Value]="patRankMatrixValue"></app-bubbles>
                                </div>
                            </div>
                        </div>
                        <div class="row" *ngIf="healthCardData['pat_performance']">
                            <div class="col-lg-5 col-md-5 col-sm-5">
                                <div class="mar-lef-35" style="margin-left: 15px;">
                                    <strong class="fon-siz-15rem" style="font-size: 15px;line-height: 2em; font-weight: bold;">Performance
                                    </strong>
                                    <div class="progress-circle-container" style="font-weight: bold; ">
                                        <app-progress-circle
                                            [value]=" level == 'state' ? healthCardData['pat_performance']['school_performance'] : healthCardData['pat_performance'][level+'_performance']"
                                            [color]="patColor"></app-progress-circle>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-7 col-md-7 col-sm-7">
                                <div>
                                    <strong class="metric-name mar-lef-35" *ngIf="level != 'state'"
                                        style="margin-left: 20px; font-size: 15px;line-height: 2em;">{{level.charAt(0).toUpperCase()
                                        + level.substr(1)}} Rank</strong>
                                    <table class="metric-values-table mar-lef-35 no-fixed-width" style="margin-left: 20px;">
                                        <thead>
                                            <tr *ngFor="let pat of schoolInfraRank; let i=index">
                                                <td *ngIf="level != 'state'">{{schoolInfraRankKye[i]}} level</td>
                                                <td *ngIf="level != 'state'">:</td>
                                                <td *ngIf="level != 'state'">{{healthCardData['pat_performance'][pat]}}
                                                </td>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="row" *ngIf="healthCardData['pat_performance']">
                            <div class="col-sm-12">
                                <div class="mar-lef-35" style="margin-left: 15px;">
                                    <table class="metric-values-table">
                                        <tbody>
                                            <strong class="metric-name" *ngIf="level != 'school'"
                                                style="font-size: 15px;line-height: 2em;">School
                                                Categories</strong>
                                            <tr class="header-row" *ngIf="level != 'school'"
                                                style="font-weight: bold; color: gray;font-size: 14px;">
                                                <td>Performance</td>
                                                <td></td>
                                                <td>Schools</td>
                                            </tr>
                                            <tr *ngFor="let pat of semPerformanceCategory; let i=index">
                                                <td *ngIf="level != 'school'">
                                                    {{semPerformanceCategoryKey[i]}}</td>
                                                <td *ngIf="level != 'school'">:</td>
                                                <td *ngIf="level != 'school'">
                                                    {{healthCardData['pat_performance'][pat]}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="!healthCardData['pat_performance']" class="notFound"> No Data Available
                        </div>
                    </div>
                    <div *ngIf="healthCardData['pat_performance']">
                        <p *ngIf="showLink" class="link access-report-link" id="patLink">
                            <a href="javascript:void(0)" (click)="goToReport('/student-performance/pat-report')">Click
                                to Access
                                Report</a>
                        </p>
                    </div>
                </div>
            </div>
            <div class="row" style="padding-top:10px !important">
                <div class="col-lg-4 col-md-12 col-sm-12" id="infra" style="margin-bottom:10px !important">
                    <div [ngStyle]="{'min-height': height }" class="card">
                        <div class="row">
                            <div class="col-lg-12">
                                <div *ngIf="healthCardData['school_infrastructure']" ngbDropdown
                                    class="d-inline-block healthcard-tooltip" [placement]="placement"
                                    id="infraTooltipBtn">
                                    <button class="btn btn-outline-primary healthcard-tooltip-btn" id="dropdownBasic4"
                                        ngbDropdownToggle>
                                        <em class="fa fa-info-circle" style="color: #75758d;"></em>
                                    </button>
                                    <div style="border-radius: 10px;" class="healthcard-tooltip-dropdown"
                                        ngbDropdownMenu id="infraTooltip" aria-labelledby="dropdownBasic4">
                                        <div class="dropdown-content" id="div1"
                                            style="height: 250px;width: 320px; position:relative; border-radius: 10px;border: 1px solid gray; padding: 5px 5px 5px 5px; margin-right: 8px;">
                                            <div id="div2" style="max-height:100%;min-width: 100%; overflow:auto;">
                                                <div id="div3" style="height:1000px auto; width: 500px auto;">
                                                    <table class="tooltip-table">
                                                        <tbody>
                                                            <tr>
                                                                <td colspan="3">
                                                                    <strong class="tooltip-table-header-txt"
                                                                        style="text-decoration: underline; font-size: 13px;line-height: 2em;">
                                                                        Details</strong>
                                                                </td>
                                                            </tr>
                                                            <tr class="tooltip-values-row" style="font-size: 12px;"
                                                                *ngFor="let infra of tooltipInfra;let i=index">
                                                                <td *ngIf="i== 0  && level =='state'">
                                                                    {{toolTipInfraKeys[i]}}</td>
                                                                <td *ngIf="i== 0 && level =='state'">:
                                                                </td>
                                                                <td *ngIf="i== 0 && level =='state'">
                                                                    {{healthCardData['school_infrastructure'][infra]}}
                                                                </td>
                                                            </tr>
                                                            <tr class="tooltip-values-row" style="font-size: 12px;"
                                                                *ngFor="let infra of tooltipInfra;let i=index">
                                                                <td *ngIf="i <= infraLength && level !='state'">
                                                                    {{toolTipInfraKeys[i]}}</td>
                                                                <td *ngIf="i <= infraLength  && level !='state'">:</td>
                                                                <td *ngIf="i <= infraLength  && level !='state'">
                                                                    {{healthCardData['school_infrastructure'][infra]}}
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td colspan="3">
                                                                    <strong class="tooltip-table-header-txt"
                                                                        style="text-decoration: underline; font-size: 13px;line-height: 2em;">
                                                                        School_Infrastructure_Metrics</strong>
                                                                </td>
                                                            </tr>
                                                            <tr class="tooltip-values-row" style="font-size: 12px;"
                                                                *ngFor="let infra of tooltipInfra;let i=index">
                                                                <td
                                                                    *ngIf="i> infraLength && infra != 'total_schools_data_received'">
                                                                    {{toolTipInfraKeys[i]}}</td>
                                                                <td
                                                                    *ngIf="i> infraLength && infra != 'total_schools_data_received'">
                                                                    :</td>
                                                                <td
                                                                    *ngIf="i> infraLength && infraTooltipMetrics[i] && infra != 'total_schools_data_received'">
                                                                    {{healthCardData['school_infrastructure'][infra]}} %
                                                                </td>
                                                                <td
                                                                    *ngIf="i> infraLength && !infraTooltipMetrics[i] && infra != 'total_schools_data_received'">
                                                                    {{healthCardData['school_infrastructure'][infra]}}
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <h6 class="headings"> School Infrastructure
                                </h6>
                                <div>
                                    <app-bubbles *ngIf="level != 'state' && healthCardData['school_infrastructure']"
                                        [cardData]="healthCardData['school_infrastructure']"
                                        [color]="infraRankMatrixColor" [Value]="infraRankMatrixValue"></app-bubbles>
                                </div>
                            </div>
                        </div>
                        <div class="row" *ngIf="healthCardData['school_infrastructure']">
                            <div class="col-lg-5 col-md-5 col-sm-5">
                                <div class="mar-lef-35" style="margin-left: 15px;">
                                    <strong class="fon-siz-15rem" style="font-size: 15px;line-height: 2em; font-weight: bold;">Infrastructure
                                        Score
                                    </strong>
                                    <div class="progress-circle-container" style="font-weight: bold; ">
                                        <app-progress-circle
                                            [value]="healthCardData['school_infrastructure']['infra_score']"
                                            [color]="infraColor"></app-progress-circle>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-7 col-md-7 col-sm-7">
                                <div>
                                    <strong class="metric-name mar-lef-35" *ngIf="level != 'state'"
                                        style="margin-left: 20px; font-size: 15px;line-height: 2em;">{{level.charAt(0).toUpperCase()
                                        + level.substr(1)}} Rank</strong>
                                    <table class="mar-lef-35 metric-values-table no-fixed-width" style="margin-left: 20px;">
                                        <thead>
                                            <tr *ngFor="let infra of schoolInfraRank; let i=index">
                                                <td *ngIf="level != 'state'">
                                                    <span>{{schoolInfraRankKye[i]}} level</span>
                                                </td>
                                                <td *ngIf="level != 'state'">:</td>
                                                <td *ngIf="level != 'state'">
                                                    <span>{{healthCardData['school_infrastructure'][infra]}} </span>
                                                </td>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="row" *ngIf="healthCardData['school_infrastructure']">
                            <div class="col-sm-12">
                                <strong class="mar-lef-35 metric-name" style="margin-left: 20px;">Areas To Focus </strong>
                                <ul class="metric-list-values" style="font-weight: normal; list-style-type:none;margin-left: 0px;">
                                    <li
                                        *ngFor="let list of healthCardData['school_infrastructure']['areas_to_focus'], let i=index">
                                        {{healthCardData['school_infrastructure']['areas_to_focus'][i]}}</li>
                                </ul>
                            </div>
                        </div>
                        <div *ngIf="!healthCardData['school_infrastructure']" class="notFound"> No Data Available
                        </div>
                    </div>
                    <div *ngIf="healthCardData['school_infrastructure']">
                        <p *ngIf="showLink" class="link access-report-link" id="infraLink"><a href="javascript: void(0)"
                                (click)="goToReport('/infrastructure/school-infra-map')">Click to Access
                                Report</a>
                        </p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-12 col-sm-12" id="udise" style="margin-bottom:10px !important">
                    <div [ngStyle]="{'min-height': height }" class="card">
                        <div class="row">
                            <div class="col-lg-12">
                                <div *ngIf="healthCardData['udise']" ngbDropdown
                                    class="d-inline-block healthcard-tooltip" [placement]="placement"
                                    id="udiseTooltipBtn">
                                    <button class="btn btn-outline-primary healthcard-tooltip-btn" id="dropdownBasic5"
                                        ngbDropdownToggle>
                                        <em class="fa fa-info-circle" style="color: #75758d;"></em>
                                    </button>
                                    <div style="border-radius: 10px;" class="healthcard-tooltip-dropdown"
                                        ngbDropdownMenu id="udiseTooltip" aria-labelledby="dropdownBasic5">
                                        <div class="dropdown-content" id="div1"
                                            style="height: 250px;width: 320px; position:relative; border-radius: 10px;border: 1px solid gray; padding: 5px 5px 5px 5px; margin-right: 8px;">
                                            <div id="div2" style="max-height:100%;min-width: 100%; overflow:auto;">
                                                <div id="div3" style="height:1000px auto; width: 500px auto;">
                                                    <table class="tooltip-table">
                                                        <tbody>
                                                            <tr>
                                                                <td colspan="3">
                                                                    <strong class="tooltip-table-header-txt"
                                                                        style="text-decoration: underline; font-size: 13px;line-height: 2em;">
                                                                        Details</strong>
                                                                </td>
                                                            </tr>
                                                            <tr class="tooltip-values-row" style="font-size: 12px;"
                                                                *ngFor="let key of tooltipUDISE;let i=index">
                                                                <td *ngIf="i<=udiseLength && level !='state'">
                                                                    {{tooltipUDISEKyes[i]}}</td>
                                                                <td *ngIf="i<=udiseLength && level !='state'">:</td>
                                                                <td *ngIf="i<=udiseLength && level !='state'">
                                                                    {{healthCardData['udise'][key]}}
                                                                </td>
                                                            </tr>
                                                            <tr class="tooltip-values-row" style="font-size: 12px;"
                                                                *ngFor="let key of tooltipUDISE;let i=index">
                                                                <td *ngIf="key == 'total_schools' && level =='state'">
                                                                    {{tooltipUDISEKyes[i]}}</td>
                                                                <td *ngIf="key == 'total_schools' && level =='state'">:
                                                                </td>
                                                                <td *ngIf="key == 'total_schools' && level =='state'">
                                                                    {{healthCardData['udise'][key]}}
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td colspan="3">
                                                                    <strong class="tooltip-table-header-txt"
                                                                        style="text-decoration: underline; font-size: 13px;line-height: 2em;">
                                                                        All Indices</strong>
                                                                </td>
                                                            </tr>
                                                            <tr class="tooltip-values-row" style="font-size: 12px;"
                                                                *ngFor="let key of tooltipUDISE;let i=index">
                                                                <td
                                                                    *ngIf="i>udiseLength && healthCardData['udise'][key] && key != 'total_schools'">
                                                                    {{tooltipUDISEKyes[i]}}</td>
                                                                <td
                                                                    *ngIf="i>udiseLength && healthCardData['udise'][key] && key != 'total_schools'">
                                                                    :
                                                                </td>
                                                                <td
                                                                    *ngIf="i>udiseLength && healthCardData['udise'][key] && key != 'total_schools'">
                                                                    {{healthCardData['udise'][key]}} %
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <h6 class="headings"> UDISE
                                </h6>
                                <div>
                                    <app-bubbles *ngIf="level != 'state' && healthCardData['udise']"
                                        [cardData]="healthCardData['udise']" [color]="udiseRankMatrixColor"
                                        [Value]="udiseRankMatrixValue"></app-bubbles>
                                </div>
                            </div>
                        </div>
                        <div class="row" *ngIf="healthCardData['udise']">
                            <div class="col-lg-5 col-md-5 col-sm-5">
                                <div class="mar-lef-35" style="margin-left: 15px;">
                                    <strong class="fon-siz-15rem" style="font-size: 15px;line-height: 2em; font-weight: bold;">Infrastructure
                                        Score
                                    </strong>
                                    <div class="progress-circle-container" style="font-weight: bold; ">
                                        <app-progress-circle [value]="healthCardData['udise']['infrastructure_score']"
                                            [color]="udiseColor"></app-progress-circle>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-7 col-md-7 col-sm-7">
                                <div>
                                    <strong class="metric-name mar-lef-35" *ngIf="level != 'state'"
                                        style="margin-left: 20px; font-size: 15px;line-height: 2em;">{{level.charAt(0).toUpperCase()
                                        + level.substr(1)}} Rank</strong>
                                    <table class="mar-lef-35 metric-values-table no-fixed-width" style="margin-left: 20px;">
                                        <thead>
                                            <tr *ngFor="let key of schoolInfraRank; let i=index">
                                                <td *ngIf="level != 'state'">{{schoolInfraRankKye[i]}} level</td>
                                                <td *ngIf="level != 'state'">:</td>
                                                <td *ngIf="level != 'state'">{{healthCardData['udise'][key]}}
                                                </td>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="row" *ngIf="healthCardData['udise']">
                            <div class="col-sm-12">
                                <div class="mar-lef-35" style="margin-left: 15px;">
                                    <table class="metric-values-table">
                                        <tbody>
                                            <strong class="metric-name" *ngIf="level != 'school'"
                                                style="font-size: 15px;line-height: 2em;">School
                                                Categories</strong>
                                            <tr class="header-row" *ngIf="level != 'school'"
                                                style="font-weight: bold; color: gray;font-size: 14px;">
                                                <td>Infrastructure Score</td>
                                                <td></td>
                                                <td>Schools</td>
                                            </tr>
                                            <tr *ngFor="let key of UDISECategory; let i=index">
                                                <td *ngIf="level != 'school'">
                                                    {{UDISECategoryKey[i]}}</td>
                                                <td *ngIf="level != 'school'">:</td>
                                                <td *ngIf="level != 'school'">
                                                    {{healthCardData['udise'][key]}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="!healthCardData['udise']" class="notFound"> No Data Available
                        </div>
                    </div>
                    <div *ngIf="healthCardData['udise']">
                        <p *ngIf="showLink" class="link access-report-link" id="udiseLink"><a href="javascript: void(0)"
                                (click)="goToReport('/infrastructure/udise-report')">Click to Access
                                Report</a>
                        </p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-12 col-sm-12" id="crc" style="margin-bottom:10px !important">
                    <div [ngStyle]="{'min-height': height }" class="card">
                        <div class="row">
                            <div class="col-lg-12">
                                <div *ngIf="healthCardData['crc_visit']" ngbDropdown
                                    class="d-inline-block healthcard-tooltip" [placement]="placement"
                                    id="crcTooltipBtn">
                                    <button class="btn btn-outline-primary healthcard-tooltip-btn" id="dropdownBasic6"
                                        ngbDropdownToggle>
                                        <em class="fa fa-info-circle" style="color: #75758d;"></em>
                                    </button>
                                    <div style="border-radius: 10px;" class="healthcard-tooltip-dropdown"
                                        ngbDropdownMenu id="crcTooltip" aria-labelledby="dropdownBasic6">
                                        <div class="dropdown-content" id="div1"
                                            style="height: 250px;width: 320px; position:relative; border-radius: 10px;border: 1px solid gray; padding: 5px 5px 5px 5px; margin-right: 8px;">
                                            <div id="div2" style="max-height:100%;min-width: 100%; overflow:auto;">
                                                <div id="div3" style="height:1000px auto; width: 500px auto;">
                                                    <table class="tooltip-table">
                                                        <tbody>
                                                            <tr>
                                                                <td colspan="3">
                                                                    <strong class="tooltip-table-header-txt"
                                                                        style="text-decoration: underline; font-size: 13px;line-height: 2em;">
                                                                        Details</strong>
                                                                </td>
                                                            </tr>
                                                            <tr class="tooltip-values-row" style="font-size: 12px;"
                                                                *ngFor="let key of tooltipCrc;let i=index">
                                                                <td *ngIf="i<=crcLength">{{tooltipCrcKeys[i]}}</td>
                                                                <td *ngIf="i<=crcLength">:</td>
                                                                <td *ngIf="i<=crcLength">
                                                                    {{healthCardData['crc_visit'][key]}}</td>
                                                            </tr>
                                                            <tr>
                                                                <td colspan="3">
                                                                    <strong class="tooltip-table-header-txt"
                                                                        style="text-decoration: underline; font-size: 13px;line-height: 2em;">
                                                                        Schools Visit Details</strong>
                                                                </td>
                                                            </tr>
                                                            <tr class="tooltip-values-row" style="font-size: 12px;"
                                                                *ngFor="let key of tooltipCrc;let i=index">
                                                                <td *ngIf="i >crcLength">{{tooltipCrcKeys[i]}}</td>
                                                                <td *ngIf="i >crcLength">:</td>
                                                                <td
                                                                    *ngIf="i >crcLength && tooltipCrcKeys[i].includes('Percent')">
                                                                    {{healthCardData['crc_visit'][key]}} %</td>
                                                                <td
                                                                    *ngIf="i >crcLength  && !tooltipCrcKeys[i].includes('Percent')">
                                                                    {{healthCardData['crc_visit'][key]}}</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <h6 class="headings"> CRC Visits
                                </h6>
                                <div>
                                    <app-bubbles *ngIf="level != 'state' && healthCardData['crc_visit']"
                                        [cardData]="healthCardData['crc_visit']" [color]="crcRankMatrixColor"
                                        [Value]="crcRankMatrixValue"></app-bubbles>
                                </div>
                            </div>
                        </div>
                        <div class="row" *ngIf="healthCardData['crc_visit']">
                            <div class="col-lg-5 col-md-5 col-sm-5">
                                <div class="mar-lef-35" style="margin-left: 15px;">
                                    <strong class="fon-siz-15rem" style="font-size: 15px;line-height: 2em; font-weight: bold;">Total Visit Score
                                    </strong>
                                    <div class="progress-circle-container" style="font-weight: bold; ">
                                        <app-progress-circle [value]="healthCardData['crc_visit']['visit_score']"
                                            [color]="crcColor"></app-progress-circle>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-7 col-md-7 col-sm-7">
                                <div>
                                    <strong class="metric-name mar-lef-35" *ngIf="level != 'state'"
                                        style="margin-left: 20px; font-size: 15px;line-height: 2em;">{{level.charAt(0).toUpperCase()
                                        + level.substr(1)}} Rank</strong>
                                    <table class="mar-lef-35 metric-values-table no-fixed-width" style="margin-left: 20px;">
                                        <thead>
                                            <tr *ngFor="let key of schoolInfraRank; let i=index">
                                                <td *ngIf="level != 'state'">{{schoolInfraRankKye[i]}} level</td>
                                                <td *ngIf="level != 'state'">:</td>
                                                <td *ngIf="level != 'state'">{{healthCardData['crc_visit'][key]}}
                                                </td>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="row" *ngIf="healthCardData['crc_visit']">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <strong class="metric-name mar-lef-35" style="margin-left: 15px; font-size: 15px;line-height: 2em;">Schools
                                    Visit
                                    Category</strong>
                                <!-- <strong class="metric-name mar-lef-35" *ngIf="level == 'state'"
                                    style="margin-left: 15px; font-size: 15px;line-height: 2em;">CRC
                                    Details</strong> -->
                                <table class="mar-lef-35 metric-values-table" style="margin-left: 15px;">
                                    <thead>
                                        <tr class="header-row" *ngIf="level !='school'"
                                            style="font-weight: bold; color: gray;font-size: 14px;">
                                            <td>Schools Visited</td>
                                            <td></td>
                                            <td>Percentage</td>
                                        </tr>
                                        <tr *ngFor="let crc of crcVisit; let i=index">
                                            <td *ngIf="level =='school' && healthCardData['crc_visit'][crc] > 0">
                                                <span>{{crcVisitKeys[i].replace("Schools", "School")}}</span>
                                            </td>
                                            <td *ngIf="level !='school'"> <span>{{crcVisitKeys[i]}}</span></td>
                                            <td *ngIf="level !='school'">:</td>
                                            <td *ngIf="level !='school'"> <span>{{healthCardData['crc_visit'][crc]}}
                                                </span></td>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>
                        <div *ngIf="!healthCardData['crc_visit']" class="notFound"> No Data Available
                        </div>
                    </div>
                    <div *ngIf="healthCardData['crc_visit']">
                        <p *ngIf="showLink" class="link access-report-link" id="crcLink"><a href="javascript: void(0)"
                                (click)="goToReport('/crc/crc-report')">Click to Access
                                Report</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div *ngIf="err" style="position: absolute; top: 45%; left: 45%; color: red;">
        No Data Found
    </div>
</div>
<div id="spinner" style="display: block;">
    <div id="loader" class="loading">Loading&#8230;</div>
</div>